<!DOCTYPE html>
<html>
<head>
  <title>IoT Weather Station</title>
  <style>
    body { font-family: Arial; text-align: center; background: #eef; }
    .box { background: #fff; padding: 20px; width: 300px; margin: auto; border-radius: 10px; }
    h2 { margin-bottom: 10px; }
    p { font-size: 18px; }
  </style>
</head>
<body>
  <div class="box">
    <h2>Weather Station</h2>
    <p>ðŸŒ¡ Temp: <span id="temp">--</span> Â°C</p>
    <p>ðŸ’§ Humidity: <span id="hum">--</span> %</p>
    <p>ðŸŒ§ Rain: <span id="rain">--</span></p>
    <p style="font-size:12px">Updated: <span id="time">--</span></p>
  </div>

  <script>
    async function loadData() {
      try {
        const res = await fetch("/api/data");
        const d = await res.json();
        document.getElementById("temp").innerText = d.temperature ?? "--";
        document.getElementById("hum").innerText = d.humidity ?? "--";
        document.getElementById("rain").innerText = d.rain ?? "--";
        document.getElementById("time").innerText = d.time ?? "--";
      } catch {
        document.getElementById("rain").innerText = "Offline";
      }
    }
    setInterval(loadData, 3000);
    loadData();
  </script>
</body>
</html>
